<html><head>
  <meta charset="utf-8">
  <meta name="description" content="Java programming: type inference.">
  <meta name="author" content="Elucian Moise">
  <meta name="keywords" content="java, syntax, type inference">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">

  <!-- Website title -->
  <title>Type Inference</title>  

  <!-- Bootstrap CSS -->
  <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.1.3/dist/css/bootstrap.min.css" rel="stylesheet" crossorigin="anonymous">
  <!-- Icon -->
  <link rel="icon" type="image/png"  href="../images/favicon.ico">  
  <!-- Prism Highlighter -->
  <link rel="stylesheet" href="../prism.css">
  <script src="../prism.js"></script>
  <!-- custom css -->
  <link rel="stylesheet" href="../sage.css">
  </head>
<body>

<div class="container">
        
<!-- header -->
<div class="row">
    <div class="col">
        <a href="https://sagecode.net"><img src="../images/sage-logo.svg" alt="Sage-Code Laboratory" height="80"/></a>
    </div>  
    <div class="col  bottom-right">
        <a href="index.html#lang-index">index</a>&lt;--
    </div>
</div>
    

<hr>


<h2>Type Inference</h2>


<div class="alert alert-secondary shadow-sm">
All languages start to look like each other. In JDK 10 and later, you can declare local variables with non-null initializers using a special type named: "var" to define an identifier, which can help you write code thatâ€™s easier to read.
</div>

<p>Type inference is a compiler feature that identify the required type using a logic deduction. When you declare with "var" you do not have to specify the data type explicit. THe compiler will assign a data type that is default for a particular data literal or expression used to initialize a variable identifier in question.</p>

<h2>Advantages</h2>

<p>Local variable declarations can be simpler and more readable by using var type, that eliminate redundant information. However, it can also make code less readable by omitting useful information. Consequently, use this feature with judgment; no strict rule exists about when it should and shouldn't be used.</p>

<h2>Use cases</h2>

<p>You can use var for local variables. You can use var in loops, selections and lambda expressions. It can be used to define a list of parameters and local constants.</p>

<pre class="line-numbers"><code class="language-java"
>var list = new ArrayList&lt;String>(); // infers ArrayList&lt;String>
var stream = list.stream(); // infers Stream&lt;String>
var path = Paths.get(fileName); // infers Path
var bytes = Files.readAllBytes(path);   // infers bytes[]    
</code></pre>

<pre class="line-numbers"><code class="language-java"
>
final var PI2 = 3.14159265; // infers Float
</code></pre>

<pre class="line-numbers"><code class="language-java"
>List&lt;String&gt; myList = Arrays.asList("a", "b", "c");
for (var element : myList) {...}  // infers String
</code></pre>

<pre class="line-numbers"><code class="language-java"
>for (var counter = 0; counter < 10; counter++)  {...}   // infers int  
</code></pre>

<pre class="line-numbers"><code class="language-java"
> try (var input = 
     new FileInputStream("validation.txt")) {...}   // infers FileInputStream 
</code></pre>

<pre class="line-numbers"><code class="language-java"
>(var a, var b) -> a + b;  
</code></pre>

<h2>Restriction</h2>

<p>However there are basicly no global variables in Java. Nothing exists outside of class in Java, however you can't use var with static final variables, so you can't use "var" everywhere. </p>

<pre class="line-numbers"><code class="language-java"
>import static java.lang.System.out;
  
class Main {
  public static void main(String[] args) {
    out.format("x=%d%n",Global.x);
    out.println("done.");
  }
}

class Global {
    public static final var x = 12;
}
</code></pre>

<pre><code class="language-output"
>sh -c javac -classpath .:target/dependency/* -d . $(find . -type f -name '*.java')
./Main.java:11: error: 'var' is not allowed here
public static final var x = 12;
                        ^
1 error
exit status 1
>
</code></pre>

<hr>

<div class="alert alert-warning"><b>Warning:</b> Mixing multiple inference can cause a conflict and is not working correctly all the time. Therefore you should avoid these situations. Use "var" only when things are clear and do not abuse this feature.</div>


<!-- work in progress-->

<hr>
<p><b>Read next:</b>
<a href="lambda.html">Lambda Expressions</a></p>

<!-- Footer -->
<footer class="footer">
  <div class="footer-copyright text-center"></div>
</footer>
</div>
</body>
</html>